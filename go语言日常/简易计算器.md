package main

import (
	"fmt"
	"time"
)
func JiSuAnQi(num1 float64,ch string,num2 float64)float64{
	var results float64
	results=0
	switch ch {
	case "+":
		results=num1+num2
	case "-":
		results=num1-num2
	case "*":
		results=num1*num2
	case "/":
		results=num1/num2
	}
	return results
}
func main(){
	var num1,num2,results float64
	var ch string
	var resultsS int
	fmt.Printf("这是一个计算器程序\n")
	time.Sleep(1* time.Second)
	fmt.Printf("他可以计算：+ - * /\n")
	time.Sleep(1 * time.Second)
	fmt.Printf("现在请你输入计算的表达式\n")
	for {
		fmt.Scanf("%f %s %f", &num1, &ch, &num2)
		if ch == "/" && num2 == 0 {
			fmt.Printf("除数不能为 0 啊，老哥\n")
			fmt.Printf("重新输入：")
		}else{
			break
		}
	}
	results=JiSuAnQi(num1,ch,num2)
	resultsS=int(results)
	if ch=="/"{
		if results-float64(resultsS)==0{
			fmt.Printf("%d%s%d = %d",int(num1),ch,int(num2),int(results))
		}else {
			fmt.Printf("%d%s%d = %0.4f", int(num1), ch, int(num2), results)
		}
	}else{
		fmt.Printf("%d%s%d = %d",int(num1),ch,int(num2),int(results))
	}
}
